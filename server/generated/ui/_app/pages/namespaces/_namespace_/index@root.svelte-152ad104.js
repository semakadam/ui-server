import{S as Tt,i as Rt,s as kt,e as l,t as i,k as m,c as n,a as o,h as c,d as a,m as f,b as r,g as nt,M as e,j as A,E as It,N as ot}from"../../../chunks/index-604742bf.js";import{t as Dt,u as Ht,s as Ot}from"../../../chunks/event-view-509b3c08.js";import{e as Ct}from"../../../chunks/format-date-919f4714.js";import"../../../chunks/index-c9e619a8.js";import"../../../chunks/stores-810822a9.js";import"../../../chunks/persist-store-e5ba5089.js";import"../../../chunks/is-function-b969a126.js";import"../../../chunks/version-check-9d9f9783.js";import"../../../chunks/settings-0aa2906c.js";import"../../../chunks/to-duration-271d3946.js";const Ut=t=>{var E,P;const u=(E=t==null?void 0:t.replicationConfig)==null?void 0:E.clusters,y=(P=t==null?void 0:t.replicationConfig)==null?void 0:P.activeClusterName;return u!=null&&u.length?u.map(({clusterName:N})=>N===y?`${N} (active)`:N).join(", "):"Unknown"};function Gt(t){var it,ct,pt,mt,ft,ut,dt,vt,ht,_t,Et,yt,Pt,Nt;let u,y,E=((ct=(it=t[0])==null?void 0:it.namespaceInfo)==null?void 0:ct.name)+"",P,N,_,s,v,we,be,V,q,Ie,Ce,$=((mt=(pt=t[0])==null?void 0:pt.namespaceInfo)==null?void 0:mt.description)+"",fe,Te,g,M,Re,ke,ee=(((ut=(ft=t[0])==null?void 0:ft.namespaceInfo)==null?void 0:ut.ownerEmail)||"Unknown")+"",ue,De,w,z,He,Oe,te=(dt=t[0])!=null&&dt.isGlobalNamespace?"Yes":"No",de,Ue,b,B,Ge,je,ae=Ct((ht=(vt=t[0])==null?void 0:vt.config)==null?void 0:ht.workflowExecutionRetentionTtl.toString())+"",ve,Fe,I,J,Le,Ye,se=((Et=(_t=t[0])==null?void 0:_t.config)==null?void 0:Et.historyArchivalState)+"",he,qe,C,K,Me,ze,re=((Pt=(yt=t[0])==null?void 0:yt.config)==null?void 0:Pt.visibilityArchivalState)+"",_e,Be,T,Q,Je,Ke,le=((Nt=t[0])==null?void 0:Nt.failoverVersion)+"",Ee,Qe,R,W,We,Xe,ye,Ze,S,X,xe,$e,k,Z,et,tt,Pe,at,D,x,st,rt,Ne,lt;return{c(){u=l("h2"),y=i("Namespace: "),P=i(E),N=m(),_=l("div"),s=l("article"),v=l("h1"),we=i("Details"),be=m(),V=l("p"),q=l("span"),Ie=i("Description:"),Ce=m(),fe=i($),Te=m(),g=l("p"),M=l("span"),Re=i("Owner:"),ke=m(),ue=i(ee),De=m(),w=l("p"),z=l("span"),He=i("Global?"),Oe=m(),de=i(te),Ue=m(),b=l("p"),B=l("span"),Ge=i("Retention Period:"),je=m(),ve=i(ae),Fe=m(),I=l("p"),J=l("span"),Le=i("History Archival:"),Ye=m(),he=i(se),qe=m(),C=l("p"),K=l("span"),Me=i("Visibility Archival:"),ze=m(),_e=i(re),Be=m(),T=l("p"),Q=l("span"),Je=i("Failover Version:"),Ke=m(),Ee=i(le),Qe=m(),R=l("p"),W=l("span"),We=i("Clusters:"),Xe=m(),ye=i(t[1]),Ze=m(),S=l("article"),X=l("h1"),xe=i("Versions"),$e=m(),k=l("p"),Z=l("span"),et=i("Temporal Server Version:"),tt=m(),Pe=i(t[2]),at=m(),D=l("p"),x=l("span"),st=i("Temporal UI Version:"),rt=m(),Ne=i(t[3]),lt=m(),this.h()},l(p){u=n(p,"H2",{class:!0,"data-cy":!0});var h=o(u);y=c(h,"Namespace: "),P=c(h,E),h.forEach(a),N=f(p),_=n(p,"DIV",{class:!0});var H=o(_);s=n(H,"ARTICLE",{class:!0});var d=o(s);v=n(d,"H1",{class:!0});var ne=o(v);we=c(ne,"Details"),ne.forEach(a),be=f(d),V=n(d,"P",{"data-cy":!0});var O=o(V);q=n(O,"SPAN",{class:!0});var oe=o(q);Ie=c(oe,"Description:"),oe.forEach(a),Ce=f(O),fe=c(O,$),O.forEach(a),Te=f(d),g=n(d,"P",{"data-cy":!0});var U=o(g);M=n(U,"SPAN",{class:!0});var ie=o(M);Re=c(ie,"Owner:"),ie.forEach(a),ke=f(U),ue=c(U,ee),U.forEach(a),De=f(d),w=n(d,"P",{"data-cy":!0});var G=o(w);z=n(G,"SPAN",{class:!0});var ce=o(z);He=c(ce,"Global?"),ce.forEach(a),Oe=f(G),de=c(G,te),G.forEach(a),Ue=f(d),b=n(d,"P",{"data-cy":!0});var j=o(b);B=n(j,"SPAN",{class:!0});var pe=o(B);Ge=c(pe,"Retention Period:"),pe.forEach(a),je=f(j),ve=c(j,ae),j.forEach(a),Fe=f(d),I=n(d,"P",{"data-cy":!0});var F=o(I);J=n(F,"SPAN",{class:!0});var me=o(J);Le=c(me,"History Archival:"),me.forEach(a),Ye=f(F),he=c(F,se),F.forEach(a),qe=f(d),C=n(d,"P",{"data-cy":!0});var L=o(C);K=n(L,"SPAN",{class:!0});var St=o(K);Me=c(St,"Visibility Archival:"),St.forEach(a),ze=f(L),_e=c(L,re),L.forEach(a),Be=f(d),T=n(d,"P",{"data-cy":!0});var Se=o(T);Q=n(Se,"SPAN",{class:!0});var At=o(Q);Je=c(At,"Failover Version:"),At.forEach(a),Ke=f(Se),Ee=c(Se,le),Se.forEach(a),Qe=f(d),R=n(d,"P",{"data-cy":!0});var Ae=o(R);W=n(Ae,"SPAN",{class:!0});var Vt=o(W);We=c(Vt,"Clusters:"),Vt.forEach(a),Xe=f(Ae),ye=c(Ae,t[1]),Ae.forEach(a),d.forEach(a),Ze=f(H),S=n(H,"ARTICLE",{class:!0});var Y=o(S);X=n(Y,"H1",{class:!0});var gt=o(X);xe=c(gt,"Versions"),gt.forEach(a),$e=f(Y),k=n(Y,"P",{"data-cy":!0});var Ve=o(k);Z=n(Ve,"SPAN",{class:!0});var wt=o(Z);et=c(wt,"Temporal Server Version:"),wt.forEach(a),tt=f(Ve),Pe=c(Ve,t[2]),Ve.forEach(a),at=f(Y),D=n(Y,"P",{"data-cy":!0});var ge=o(D);x=n(ge,"SPAN",{class:!0});var bt=o(x);st=c(bt,"Temporal UI Version:"),bt.forEach(a),rt=f(ge),Ne=c(ge,t[3]),ge.forEach(a),lt=f(Y),Y.forEach(a),H.forEach(a),this.h()},h(){r(u,"class","text-2xl"),r(u,"data-cy","namespace-title"),r(v,"class","my-4 text-lg font-medium"),r(q,"class","mr-2 font-medium"),r(V,"data-cy","namespace-description"),r(M,"class","mr-2 font-medium"),r(g,"data-cy","namespace-owner"),r(z,"class","mr-2 font-medium"),r(w,"data-cy","namespace-global"),r(B,"class","mr-2 font-medium"),r(b,"data-cy","namespace-retention"),r(J,"class","mr-2 font-medium"),r(I,"data-cy","namespace-history"),r(K,"class","mr-2 font-medium"),r(C,"data-cy","namespace-visibility"),r(Q,"class","mr-2 font-medium"),r(T,"data-cy","namespace-failover"),r(W,"class","mr-2 font-medium"),r(R,"data-cy","namespace-clusters"),r(s,"class","namespace-info w-full p-4"),r(X,"class","my-4 text-lg font-medium"),r(Z,"class","mr-2 font-medium"),r(k,"data-cy","server-version"),r(x,"class","mr-2 font-medium"),r(D,"data-cy","ui-version"),r(S,"class","namespace-info w-full p-4"),r(_,"class","flex")},m(p,h){nt(p,u,h),e(u,y),e(u,P),nt(p,N,h),nt(p,_,h),e(_,s),e(s,v),e(v,we),e(s,be),e(s,V),e(V,q),e(q,Ie),e(V,Ce),e(V,fe),e(s,Te),e(s,g),e(g,M),e(M,Re),e(g,ke),e(g,ue),e(s,De),e(s,w),e(w,z),e(z,He),e(w,Oe),e(w,de),e(s,Ue),e(s,b),e(b,B),e(B,Ge),e(b,je),e(b,ve),e(s,Fe),e(s,I),e(I,J),e(J,Le),e(I,Ye),e(I,he),e(s,qe),e(s,C),e(C,K),e(K,Me),e(C,ze),e(C,_e),e(s,Be),e(s,T),e(T,Q),e(Q,Je),e(T,Ke),e(T,Ee),e(s,Qe),e(s,R),e(R,W),e(W,We),e(R,Xe),e(R,ye),e(_,Ze),e(_,S),e(S,X),e(X,xe),e(S,$e),e(S,k),e(k,Z),e(Z,et),e(k,tt),e(k,Pe),e(S,at),e(S,D),e(D,x),e(x,st),e(D,rt),e(D,Ne),e(S,lt)},p(p,[h]){var H,d,ne,O,oe,U,ie,G,ce,j,pe,F,me,L;h&1&&E!==(E=((d=(H=p[0])==null?void 0:H.namespaceInfo)==null?void 0:d.name)+"")&&A(P,E),h&1&&$!==($=((O=(ne=p[0])==null?void 0:ne.namespaceInfo)==null?void 0:O.description)+"")&&A(fe,$),h&1&&ee!==(ee=(((U=(oe=p[0])==null?void 0:oe.namespaceInfo)==null?void 0:U.ownerEmail)||"Unknown")+"")&&A(ue,ee),h&1&&te!==(te=(ie=p[0])!=null&&ie.isGlobalNamespace?"Yes":"No")&&A(de,te),h&1&&ae!==(ae=Ct((ce=(G=p[0])==null?void 0:G.config)==null?void 0:ce.workflowExecutionRetentionTtl.toString())+"")&&A(ve,ae),h&1&&se!==(se=((pe=(j=p[0])==null?void 0:j.config)==null?void 0:pe.historyArchivalState)+"")&&A(he,se),h&1&&re!==(re=((me=(F=p[0])==null?void 0:F.config)==null?void 0:me.visibilityArchivalState)+"")&&A(_e,re),h&1&&le!==(le=((L=p[0])==null?void 0:L.failoverVersion)+"")&&A(Ee,le),h&2&&A(ye,p[1]),h&4&&A(Pe,p[2]),h&8&&A(Ne,p[3])},i:It,o:It,d(p){p&&a(u),p&&a(N),p&&a(_)}}}const Wt=async function({params:t,url:u,stuff:y}){const{searchParams:E}=u;E.has("time-range")&&E.delete("time-range");const P=t.namespace,_=y.namespaces.find(v=>v.namespaceInfo.name===P);if(!_)return{error:`Namespace ${P} does not exist`,status:404};const s=Ut(_);return{props:{currentNamespace:_,clusters:s}}};function jt(t,u,y){let E,P,N;ot(t,Dt,v=>y(2,E=v)),ot(t,Ht,v=>y(3,P=v)),ot(t,Ot,v=>y(4,N=v));let{currentNamespace:_}=u,{clusters:s}=u;return t.$$set=v=>{"currentNamespace"in v&&y(0,_=v.currentNamespace),"clusters"in v&&y(1,s=v.clusters)},[_,s,E,P,N]}class Xt extends Tt{constructor(u){super(),Rt(this,u,jt,Gt,kt,{currentNamespace:0,clusters:1})}}export{Xt as default,Wt as load};
